{
    "grid": {
        "nx": 256,
        "ny": 256,
        "nz": 33,
        "n_halo_cells": 2,
        "dx": 500.0,
        "dy": 500.0,
        "dz": 500.0,
        "dz1": 100.0
    },
    "simulation": {
        "total_time_s": 86400.0,
        "dt_s": 1.0,
        "output_interval_s": 150.0
    },
    "boundary_conditions": {
        "default": {
            "top": "ZERO_GRADIENT",
            "bottom": "ZERO_GRADIENT"
        },
        "flux": {
            "top": "ZERO",
            "bottom": "ZERO"
        },
        "th": {
            "top": "ZERO_GRADIENT",
            "bottom": "ZERO_GRADIENT"
        },
        "w": {
            "top": "ZERO",
            "bottom": "ZERO"
        },
        "xi": {
            "top": "ZERO",
            "bottom": "ZERO"
        },
        "eta": {
            "top": "ZERO",
            "bottom": "ZERO"
        }
    },
    "add_model_fields": {
        "3d": [
            "tracer1"
        ]
    },
    "initial_conditions": {
        "format": "txt",
        "source_file": "/work/aaron900129/VVM_GPU_CPP/rundata/initial_conditions/profile.txt"
    },
    "netcdf_reader": {
        "source_file": "/work/aaron900129/VVM_GPU_CPP/rundata/TOPO.nc",
        "variables_to_read": {
            "2d": []
        }
    },
    "output": {
        "output_dir": "/work/aaron900129/VVM_GPU_CPP/output/p3",
        "enable_netcdf": true,
        "output_filename_prefix": "vvm_output",
        "fields_to_output": ["thbar", "rhobar", "rhobar_up", "htflx_sfc", "u", "v", "w", "th", "xi", "eta", "zeta"],
        "output_grid": {
            "x_start": 0,
            "x_end": -1,
            "y_start": 0,
            "y_end": -1,
            "z_start": 0,
            "z_end": -1
        }
    },
    "constants": {
        "gravity": 9.806,
        "Rd": 287.04,
        "PSFC": 100000,
        "P0": 100000,
        "Cp": 1004.5,
        "Lv": 2.5e6
    },
    "dynamics": {
        "solver": {
            "w_solver_method": "tridiagonal",
            "_w_solver_method_options": "Choose 'tridiagonal' (original) or 'jacobi' (3D parallel)",
            "iteration": 200,
            "WRXMU": 2.5e-7
        },
        "prognostic_variables": {
            "th": {
                "tendency_terms": {
                    "advection": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" }
                }
            },
            "xi": {
                "tendency_terms": {
                    "advection": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "buoyancy": { "temporal_scheme": "ForwardEuler", "spatial_scheme": "Takacs" },
                    "stretching": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "twisting": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" }
                }
            },
            "eta": {
                "tendency_terms": {
                    "advection": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "buoyancy": { "temporal_scheme": "ForwardEuler", "spatial_scheme": "Takacs" }, 
                    "stretching": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "twisting": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" }
                }
            },
            "zeta": {
                "tendency_terms": {
                    "advection": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "stretching": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" },
                    "twisting": { "temporal_scheme": "AdamsBashforth2", "spatial_scheme": "Takacs" }
                }
            }
        },
        "time_integration": {
            "procedure": [
                {
                    "step": 1,
                    "description": "Calculate theta tendency and update theta to t+1",
                    "calculate_tendencies": ["th"],
                    "update_states": ["th"]
                },
                {
                    "step": 2,
                    "description": "Calculate all other tendencies (including buoyancy using new theta)",
                    "calculate_tendencies": ["xi", "eta", "zeta"]
                },
                {
                    "step": 3,
                    "description": "Update all other prognostic variables to t+1",
                    "update_states": ["xi", "eta", "zeta"]
                }
            ]
        }
    },
    "physics": {
        "p3": {
            "do_predict_nc": true,
            "do_prescribed_ccn": true,
            "max_total_ni": 740.0e3
        }
    }

}
